<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This is a developer facing function that is only used if you are creating
your own blueprint subclass. It is called from mold() and dispatches off
the S3 class of the blueprint. This gives you an opportunity to mold the
data in a way that is specific to your blueprint.
run_mold() will be called with different arguments depending on the
interface to mold() that is used:
XY interface:
run_mold(blueprint, x = x, y = y)

Formula interface:
run_mold(blueprint, data = data)
Additionally, the blueprint will have been updated to contain the
formula.

Recipe interface:
run_mold(blueprint, data = data)
Additionally, the blueprint will have been updated to contain the
recipe.



If you write a blueprint subclass for new_xy_blueprint(),
new_recipe_blueprint(), or new_formula_blueprint() then your run_mold()
method signature must match whichever interface listed above will be used.
If you write a completely new blueprint inheriting only from
new_blueprint() and write a new mold() method (because you aren't using
an xy, formula, or recipe interface), then you will have full control over
how run_mold() will be called."><title>mold() according to a blueprint — run-mold • hardhat</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Source%20Sans%20Pro-0.4.1/font.css" rel="stylesheet"><link href="../deps/_Source%20Code%20Pro-0.4.1/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="mold() according to a blueprint — run-mold"><meta property="og:description" content="This is a developer facing function that is only used if you are creating
your own blueprint subclass. It is called from mold() and dispatches off
the S3 class of the blueprint. This gives you an opportunity to mold the
data in a way that is specific to your blueprint.
run_mold() will be called with different arguments depending on the
interface to mold() that is used:
XY interface:
run_mold(blueprint, x = x, y = y)

Formula interface:
run_mold(blueprint, data = data)
Additionally, the blueprint will have been updated to contain the
formula.

Recipe interface:
run_mold(blueprint, data = data)
Additionally, the blueprint will have been updated to contain the
recipe.



If you write a blueprint subclass for new_xy_blueprint(),
new_recipe_blueprint(), or new_formula_blueprint() then your run_mold()
method signature must match whichever interface listed above will be used.
If you write a completely new blueprint inheriting only from
new_blueprint() and write a new mold() method (because you aren't using
an xy, formula, or recipe interface), then you will have full control over
how run_mold() will be called."><meta property="og:image" content="https://hardhat.tidymodels.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="hardhat.tidymodels.org,all.tidymodels.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">hardhat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/forge.html">Forging data for predictions</a>
    <a class="dropdown-item" href="../articles/mold.html">Molding data for modeling</a>
    <a class="dropdown-item" href="../articles/package.html">Creating Modeling Packages With hardhat</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2019/12/hardhat-0-1-0/">Version 0.1.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidymodels/hardhat/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1><code>mold()</code> according to a blueprint</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidymodels/hardhat/blob/HEAD/R/mold.R" class="external-link"><code>R/mold.R</code></a>, <a href="https://github.com/tidymodels/hardhat/blob/HEAD/R/blueprint-formula-default.R" class="external-link"><code>R/blueprint-formula-default.R</code></a>, <a href="https://github.com/tidymodels/hardhat/blob/HEAD/R/blueprint-recipe-default.R" class="external-link"><code>R/blueprint-recipe-default.R</code></a>, and 1 more</small>
      <div class="d-none name"><code>run-mold.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is a developer facing function that is <em>only</em> used if you are creating
your own blueprint subclass. It is called from <code><a href="mold.html">mold()</a></code> and dispatches off
the S3 class of the <code>blueprint</code>. This gives you an opportunity to mold the
data in a way that is specific to your blueprint.</p>
<p><code>run_mold()</code> will be called with different arguments depending on the
interface to <code><a href="mold.html">mold()</a></code> that is used:</p><ul><li><p>XY interface:</p><ul><li><p><code>run_mold(blueprint, x = x, y = y)</code></p></li>
</ul></li>
<li><p>Formula interface:</p><ul><li><p><code>run_mold(blueprint, data = data)</code></p></li>
<li><p>Additionally, the <code>blueprint</code> will have been updated to contain the
<code>formula</code>.</p></li>
</ul></li>
<li><p>Recipe interface:</p><ul><li><p><code>run_mold(blueprint, data = data)</code></p></li>
<li><p>Additionally, the <code>blueprint</code> will have been updated to contain the
<code>recipe</code>.</p></li>
</ul></li>
</ul><p>If you write a blueprint subclass for <code><a href="new-blueprint.html">new_xy_blueprint()</a></code>,
<code><a href="new-blueprint.html">new_recipe_blueprint()</a></code>, or <code><a href="new-blueprint.html">new_formula_blueprint()</a></code> then your <code>run_mold()</code>
method signature must match whichever interface listed above will be used.</p>
<p>If you write a completely new blueprint inheriting only from
<code><a href="new-blueprint.html">new_blueprint()</a></code> and write a new <code><a href="mold.html">mold()</a></code> method (because you aren't using
an xy, formula, or recipe interface), then you will have full control over
how <code>run_mold()</code> will be called.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">run_mold</span><span class="op">(</span><span class="va">blueprint</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for default_formula_blueprint</span>
<span class="fu">run_mold</span><span class="op">(</span><span class="va">blueprint</span>, <span class="va">...</span>, <span class="va">data</span><span class="op">)</span>

<span class="co"># S3 method for default_recipe_blueprint</span>
<span class="fu">run_mold</span><span class="op">(</span><span class="va">blueprint</span>, <span class="va">...</span>, <span class="va">data</span><span class="op">)</span>

<span class="co"># S3 method for default_xy_blueprint</span>
<span class="fu">run_mold</span><span class="op">(</span><span class="va">blueprint</span>, <span class="va">...</span>, <span class="va">x</span>, <span class="va">y</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>blueprint</dt>
<dd><p>A preprocessing blueprint.</p></dd>
<dt>...</dt>
<dd><p>Not used. Required for extensibility.</p></dd>
<dt>data</dt>
<dd><p>A data frame or matrix containing the outcomes and predictors.</p></dd>
<dt>x</dt>
<dd><p>A data frame or matrix containing the predictors.</p></dd>
<dt>y</dt>
<dd><p>A data frame, matrix, or vector containing the outcomes.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>run_mold()</code> methods return the object that is then immediately returned from
<code><a href="mold.html">mold()</a></code>. See the return value section of <code><a href="mold.html">mold()</a></code> to understand what the
structure of the return value should look like.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">bp</span> <span class="op">&lt;-</span> <span class="fu"><a href="default_xy_blueprint.html">default_xy_blueprint</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">outcomes</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">[</span><span class="st">"mpg"</span><span class="op">]</span></span>
<span class="r-in"><span class="va">predictors</span> <span class="op">&lt;-</span> <span class="va">mtcars</span></span>
<span class="r-in"><span class="va">predictors</span><span class="op">$</span><span class="va">mpg</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">run_mold</span><span class="op">(</span><span class="va">bp</span>, x <span class="op">=</span> <span class="va">predictors</span>, y <span class="op">=</span> <span class="va">outcomes</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $predictors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 32 × 10</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>     6  160    110  3.9   2.62  16.5     0     1     4     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     6  160    110  3.9   2.88  17.0     0     1     4     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>     4  108     93  3.85  2.32  18.6     1     1     4     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>     6  258    110  3.08  3.22  19.4     1     0     3     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>     8  360    175  3.15  3.44  17.0     0     0     3     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>     6  225    105  2.76  3.46  20.2     1     0     3     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>     8  360    245  3.21  3.57  15.8     0     0     3     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>     4  147.    62  3.69  3.19  20       1     0     4     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>     4  141.    95  3.92  3.15  22.9     1     0     4     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>     6  168.   123  3.92  3.44  18.3     1     0     4     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 22 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $outcomes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 32 × 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      mpg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>  21  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>  21  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>  22.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>  21.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>  18.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>  18.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>  14.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>  24.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>  22.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>  19.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 22 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $blueprint</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> XY blueprint: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Predictors: 10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   # Outcomes: 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Intercept: FALSE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Novel Levels: FALSE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Composition: tibble </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $extras</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/DavisVaughan" class="external-link">Davis Vaughan</a>, <a href="https://github.com/topepo" class="external-link">Max Kuhn</a>, <a href="https://www.rstudio.com" class="external-link"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" width="72"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

  </div></footer></body></html>

